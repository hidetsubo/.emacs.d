
# -*- coding: utf-8 -*-
require './datacalc.rb'
require './getfiles.rb'
require './vsystrade.rb'

GetFile.new.set_date

size = 76
ptn=["contrarian","follower","reaction"]

fs = Dir::glob(PATH + "20*" ).sort
files = fs.reverse
#p files
dc = DataCalc.new
st = SysTrade.new
dd , slist, flist = dc.make_data(files,size,0)

#p slist
#p flist
dc.data_check(dd,slist,flist,size,0)

ave = dc.make_ave(dd,slist,flist)

for_dc=[]
have=Hash.new

have,for_dc = st.buy_list(dd,slist,flist,ave,have,0,ptn)

p "Daily check ended.."
p for_dc

for_dc.each{ |l|
  p "I will show you "+l+"'s stock infomations." 
  url = 'http://stocks.finance.yahoo.co.jp/stocks/detail/?code=' + l
  system("/etc/alternatives/x-www-browser #{url} &") || system("firefox #{url} &")
}

hide@192.168.0.5's password: 