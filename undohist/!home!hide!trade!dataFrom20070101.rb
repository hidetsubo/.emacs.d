
((digest . "bfdda413dd62b46c5a741746c9a2f6c9") (undo-list nil (#("p" 0 1 (fontified t)) . -315) (t 20764 . 2046) ((marker . 315) . -1) ((marker . 315) . -1) nil (207 . 209) nil (#("0" 0 1 (fontified t)) . -207) nil (#("7" 0 1 (fontified t)) . -208) nil (315 . 316) (t 20763 . 40923) nil (#("p" 0 1 (fontified t)) . -315) nil (#(" " 0 1 (fontified t)) . -316) (t 20763 . 40917) nil (#(" " 0 1 (fontified t)) . -674) nil (316 . 317) nil (315 . 316) (t 20763 . 40790) nil (207 . 209) nil (#("1" 0 1 (fontified t)) . -207) nil (#("0" 0 1 (fontified t)) . -208) (t 20763 . 40763) nil (1770 . 1774) nil (#("b" 0 1 (face font-lock-comment-face syntax-table nil fontified t)) . -1770) nil (#("e" 0 1 (face font-lock-comment-face syntax-table nil fontified t)) . -1771) nil (1770 . 1772) nil (1769 . 1770) nil (906 . 912) nil (#("#" 0 1 (face font-lock-comment-delimiter-face syntax-table nil fontified t)) . -906) nil (906 . 907) nil (905 . 906) (t 20763 . 40728) nil (357 . 360) nil (#("*" 0 1 (face font-lock-string-face fontified t)) . -357) (t 20763 . 40402) nil (214 . 215) nil (#("#" 0 1 (face font-lock-comment-delimiter-face fontified t)) . 213) (t 20763 . 40392) (214 . 215) 213 (t 20763 . 40392) nil (#(" " 0 1 (fontified t)) . 212) (213 . 214) 212 nil (#(")" 0 1 (fontified t)) . 211) (t 20763 . 39848) (212 . 213) 211 (t 20763 . 39848) nil (#("1" 0 1 (fontified t)) . 208) (209 . 210) 208 nil (#("," 0 1 (fontified t)) . 207) (208 . 209) 207 nil (#("0" 0 1 (fontified t)) . -207) nil (#("9" 0 1 (fontified t)) . -208) (t 20763 . 39725) nil (208 . 209) (t 20763 . 39698) nil (#("9" 0 1 (fontified t)) . 208) nil (208 . 209) nil (#("8" 0 1 (fontified t)) . -208) (t 20763 . 35445) nil (208 . 209) nil (#("7" 0 1 (fontified t)) . -208) (t 20763 . 33269) nil (3141 . 3142) nil (#("[" 0 1 (face font-lock-string-face fontified t)) . -3141) nil (#("0" 0 1 (face font-lock-string-face fontified t)) . -3142) nil (#("-" 0 1 (face font-lock-string-face fontified t)) . -3143) nil (#("9" 0 1 (face font-lock-string-face fontified t)) . -3144) nil (#("]" 0 1 (face font-lock-string-face fontified t)) . -3145) nil (#("[" 0 1 (face font-lock-string-face fontified t)) . -3096) nil (#("0" 0 1 (face font-lock-string-face fontified t)) . -3097) nil (#("-" 0 1 (face font-lock-string-face fontified t)) . -3098) nil (#("9" 0 1 (face font-lock-string-face fontified t)) . -3099) nil (#("]" 0 1 (face font-lock-string-face fontified t)) . -3100) nil (#("{" 0 1 (face font-lock-string-face fontified t)) . -3101) nil (#("4" 0 1 (face font-lock-string-face fontified t)) . -3102) nil (#("}" 0 1 (face font-lock-string-face fontified t)) . -3103) (t 20763 . 33239) nil (3104 . 3106) (t 20763 . 32949) nil (2032 . 2035) nil (#("t" 0 1 (face font-lock-string-face fontified t)) . -2032) nil (1984 . 1987) nil (#("t" 0 1 (face font-lock-string-face fontified t)) . -1984) nil (1944 . 1947) nil (#("t" 0 1 (face font-lock-string-face fontified t)) . -1944) (t 20763 . 32805) nil (#("
" 0 1 (fontified t)) . 1762) nil (#("d" 0 1 (syntax-table nil fontified t)) . 1762) nil (#("n" 0 1 (fontified t)) . 1762) nil (#("e" 0 1 (face font-lock-keyword-face fontified t)) . 1762) nil (#("=" 0 1 (fontified t)) . 1762) nil (#("
" 0 1 (fontified t)) . 905) nil (#("n" 0 1 (syntax-table nil fontified t)) . 905) nil (#("i" 0 1 (face font-lock-keyword-face fontified t)) . 905) nil (#("g" 0 1 (fontified t)) . 905) nil (#("e" 0 1 (fontified t)) . 905) nil (#("b" 0 1 (face font-lock-keyword-face fontified t)) . 905) nil (#("=" 0 1 (face font-lock-comment-face syntax-table (14) fontified t)) . 905) (t 20763 . 32732) nil (#("," 0 1 (fontified t)) . -211) nil (209 . 212) nil (#("1" 0 1 (fontified t)) . 208) (209 . 210) 208 nil (#("," 0 1 (fontified t)) . 207) (208 . 209) 207 nil (#("1" 0 1 (fontified t)) . -207) nil (#("3" 0 1 (fontified t)) . -208) (t 20763 . 32703) nil (905 . 906) nil (906 . 910) nil (#("i" 0 1 (syntax-table nil fontified t)) . -906) nil (905 . 907) nil (905 . 906) nil (#("]" 0 1 (fontified t)) . -905) nil (905 . 906) nil (1762 . 1766) nil (1761 . 1762) nil (1833 . 1836) nil (#("s" 0 1 (face font-lock-string-face fontified t)) . -1833) nil (#("t" 0 1 (face font-lock-string-face fontified t)) . -1834) nil (#("o" 0 1 (face font-lock-string-face fontified t)) . -1835) nil (#("c" 0 1 (face font-lock-string-face fontified t)) . -1836) nil (#("k" 0 1 (face font-lock-string-face fontified t)) . -1837) nil (#("T" 0 1 (face font-lock-string-face fontified t)) . -1838) nil (nil rear-nonsticky nil 2044 . 2045) (nil fontified nil 2044 . 2045) (nil fontified nil 2043 . 2044) (nil fontified nil 2041 . 2043) (nil fontified nil 2034 . 2041) (nil fontified nil 2033 . 2034) (nil fontified nil 2030 . 2033) (nil fontified nil 1997 . 2030) (nil fontified nil 1996 . 1997) (nil fontified nil 1987 . 1996) (nil fontified nil 1984 . 1987) (nil fontified nil 1965 . 1984) (nil fontified nil 1958 . 1965) (nil fontified nil 1949 . 1958) (nil fontified nil 1948 . 1949) (nil fontified nil 1947 . 1948) (nil fontified nil 1939 . 1947) (nil fontified nil 1938 . 1939) (nil fontified nil 1929 . 1938) (nil fontified nil 1918 . 1929) (nil fontified nil 1917 . 1918) (nil fontified nil 1914 . 1917) (nil fontified nil 1908 . 1914) (nil fontified nil 1906 . 1908) (nil fontified nil 1900 . 1906) (nil fontified nil 1899 . 1900) (nil fontified nil 1898 . 1899) (nil fontified nil 1856 . 1898) (nil fontified nil 1854 . 1856) (nil fontified nil 1853 . 1854) (nil fontified nil 1829 . 1853) (nil fontified nil 1816 . 1829) (nil fontified nil 1782 . 1816) (nil fontified nil 1781 . 1782) (nil fontified nil 1780 . 1781) (nil fontified nil 1774 . 1780) (nil fontified nil 1762 . 1774) (1762 . 2045) (t 20762 . 15778) nil (208 . 209) nil (#("2" 0 1 (fontified t)) . -208) nil (207 . 209) nil (#("0" 0 1 (fontified t)) . -207) nil (#("7" 0 1 (fontified t)) . -208) (t 20762 . 10685) nil (3995 . 3997) nil (#("6" 0 1 (fontified t)) . -3995) nil (3909 . 3910) nil (#("5" 0 1 (fontified t)) . -3909) nil (3909 . 3910) nil (#("10" 0 2 (fontified t)) . 3909) nil (3909 . 3911) nil (#("5" 0 1 (fontified t)) . -3909) nil (3796 . 3797) nil (#("0" 0 1 (fontified t)) . -3796) nil (3795 . 3797) nil (#("6" 0 1 (fontified t)) . -3795) nil (207 . 210) nil (#("i" 0 1 (fontified t)) . -207) nil (184 . 185) nil (#("07" 0 2 (fontified t face font-lock-function-name-face)) . 184) nil (184 . 186) nil (#("
" 0 1 (fontified t)) . -184) nil (#("," 0 1 (fontified t)) . 207) (208 . 209) 207 nil (#("1" 0 1 (fontified t)) . -207) nil (#("3" 0 1 (fontified t)) . -208) (t 20721 . 24750) nil (761 . 762) nil (685 . 686) nil (208 . 209) nil (#("2" 0 1 (fontified t)) . -208) (t 20702 . 50891) nil (762 . 772) nil (761 . 762) nil (760 . 761) nil (752 . 760) nil (751 . 752) nil (686 . 687) nil (#("f" 0 1 (fontified t)) . -686) (t 20702 . 50876) nil (685 . 687) nil (677 . 685) nil (677 . 678) nil (676 . 677) (t 20702 . 50533) nil (207 . 209) nil (#("7" 0 1 (fontified t)) . -207) nil (#("0" 0 1 (fontified t)) . 207) nil (#("p" 0 1 (fontified t)) . -383) nil (#(" " 0 1 (fontified t)) . -384) nil (#("p" 0 1 (fontified t)) . -316) nil (#(" " 0 1 (fontified t)) . -317) (t 20702 . 40217) nil (#("p" 0 1 (fontified t)) . -503) nil (#(" " 0 1 (fontified t)) . -504) nil (#(" " 0 1 (fontified t)) . -633) nil (#("p" 0 1 (fontified t)) . -634) (t 20702 . 40196) nil (1634 . 1636) nil (1347 . 1349) nil (1063 . 1064) (t 20702 . 40160) nil (535 . 536) nil (#(">" 0 1 (fontified t)) . -535) (t 20702 . 40100) nil (317 . 318) nil (316 . 317) (t 20702 . 40067) nil (633 . 634) nil (632 . 633) (t 20702 . 40048) nil (502 . 503) nil (501 . 502) nil (531 . 532) nil (#("=" 0 1 (fontified t)) . -531) nil (#("=" 0 1 (fontified t)) . -532) nil (534 . 538) nil (#("d" 0 1 (fontified t)) . -534) nil (534 . 535) nil (#("D" 0 1 (face font-lock-type-face fontified t)) . -534) nil (#("a" 0 1 (face font-lock-type-face fontified t)) . -535) nil (#("t" 0 1 (face font-lock-type-face fontified t)) . -536) nil (#("e" 0 1 (face font-lock-type-face fontified t)) . -537) nil (#("." 0 1 (fontified t)) . -538) nil (#("t" 0 1 (fontified t)) . -539) nil (#("o" 0 1 (fontified t)) . -540) nil (#("d" 0 1 (fontified t)) . -541) nil (#("a" 0 1 (fontified t)) . -542) nil (#("y" 0 1 (fontified t)) . -543) nil (513 . 518) (#("to" 0 1 (fontified t) 1 2 (syntax-table nil fontified t)) . -513) nil (508 . 515) nil (#("d" 0 1 (syntax-table nil fontified t)) . -508) nil (#("a" 0 1 (syntax-table nil fontified t)) . -509) nil (#("t" 0 1 (syntax-table nil fontified t)) . -510) nil (#("e" 0 1 (syntax-table nil fontified t)) . -511) nil (508 . 512) nil (507 . 508) nil (506 . 507) nil (505 . 506) nil (#("o" 0 1 (fontified t)) . -502) nil (501 . 506) nil (497 . 501) nil (589 . 590) nil (588 . 589) nil (384 . 385) nil (383 . 384) nil (1755 . 1756) nil (#("-" 0 1 (fontified t)) . -1755) nil (#(" " 0 1 (fontified t)) . -521) (t 20702 . 39204) nil (#("y" 0 1 (fontified t syntax-table nil)) . -3559) nil (3559 . 3560) (t 20702 . 39121) nil (3326 . 3330) (#("to" 0 1 (fontified t) 1 2 (fontified t syntax-table nil)) . -3326) nil (3325 . 3328) nil (#("." 0 1 (fontified t syntax-table nil)) . -3299) nil (3299 . 3300) nil (3442 . 3443) nil (#("0" 0 1 (fontified t)) . -3442) nil (3442 . 3443) nil (#("8" 0 1 (fontified t)) . -3442) nil (3411 . 3412) nil (#("7" 0 1 (fontified t)) . -3411) nil (3380 . 3381) nil (#("6" 0 1 (fontified t)) . -3380) nil (3349 . 3350) nil (#("5" 0 1 (fontified t)) . -3349) nil (3323 . 3324) nil (#("2" 0 1 (fontified t)) . -3323) nil (3297 . 3298) nil (#("3" 0 1 (fontified t)) . -3297) nil (3271 . 3272) nil (#("5" 0 1 (fontified t)) . -3271) nil (3245 . 3246) nil (#("2" 0 1 (fontified t)) . -3245) nil (3219 . 3220) nil (#("3" 0 1 (fontified t)) . -3219) nil (3188 . 3189) nil (#("1" 0 1 (fontified t)) . -3188) nil (#("." 0 1 (fontified t syntax-table nil)) . -3273) nil (#("t" 0 1 (fontified t syntax-table nil)) . -3274) nil (#("o" 0 1 (fontified t syntax-table nil)) . -3275) nil (#("_" 0 1 (fontified t syntax-table nil)) . -3276) nil (#("i" 0 1 (fontified t rear-nonsticky t syntax-table nil)) . -3277) nil (3479 . 3481) nil (#("9" 0 1 (fontified t)) . -3479) nil (3473 . 3475) nil (#("6" 0 1 (fontified t)) . -3473) nil (3442 . 3443) nil (#("5" 0 1 (fontified t)) . -3442) nil (3411 . 3412) nil (#("4" 0 1 (fontified t)) . -3411) nil (3380 . 3381) nil (#("3" 0 1 (fontified t)) . -3380) nil (3349 . 3350) nil (#("2" 0 1 (fontified t)) . -3349) nil (3323 . 3324) nil (#("1" 0 1 (fontified t)) . -3323) nil (3297 . 3298) nil (#("1" 0 1 (fontified t)) . -3297) nil (3266 . 3267) nil (#("2" 0 1 (fontified t)) . -3266) nil (3240 . 3241) nil (#("1" 0 1 (fontified t)) . -3240) nil (3278 . 3279) nil (nil rear-nonsticky nil 3277 . 3278) (nil fontified nil 3277 . 3278) (nil fontified nil 3248 . 3277) (nil fontified nil 3247 . 3248) (nil fontified nil 3246 . 3247) (nil fontified nil 3222 . 3246) (nil fontified nil 3221 . 3222) (nil fontified nil 3220 . 3221) (nil fontified nil 3206 . 3220) (nil fontified nil 3196 . 3206) (3196 . 3278) nil (#("#" 0 1 (fontified t face font-lock-comment-delimiter-face)) . -3196) nil (3398 . 3403) nil (#("(" 0 1 (fontified t)) . -3394) nil (#(")" 0 1 (fontified t syntax-table nil)) . -3399) nil (3398 . 3399) nil (#("].to_f/1000" 0 11 (fontified t)) . -3398) nil (#("#" 0 1 (fontified t face font-lock-comment-delimiter-face)) . 777) nil (#("#" 0 1 (fontified t face font-lock-comment-delimiter-face)) . 757) nil (#("#" 0 1 (fontified t face font-lock-comment-delimiter-face)) . 725) nil (#("#" 0 1 (fontified t face font-lock-comment-delimiter-face)) . -662) nil (593 . 594) nil (#(";" 0 1 (fontified t)) . -593) nil (593 . 594) nil (#("-" 0 1 (fontified t)) . -593) nil (509 . 510) nil (520 . 521) nil (510 . 520) nil (509 . 510) nil (508 . 509) nil (507 . 508) nil (506 . 507) nil (#("f" 0 1 (fontified t)) . -506) nil (#("s" 0 1 (fontified t)) . -507) nil (#(" " 0 1 (fontified t)) . -508) nil (#("<" 0 1 (fontified t)) . -509) nil (#(" " 0 1 (fontified t)) . -510) nil (#("7" 0 1 (fontified t)) . -511) nil (#("t" 0 1 (fontified t)) . -387) nil (#("o" 0 1 (fontified t)) . -388) nil (#("
" 0 1 (fontified t)) . 397) nil (#("1" 0 1 (fontified t syntax-table nil)) . 397) nil (#(" " 0 1 (fontified t)) . 397) nil (#("-" 0 1 (fontified t)) . 397) nil (#(" " 0 1 (fontified t)) . 397) nil (#("d" 0 1 (fontified t)) . 397) nil (#(" " 0 1 (fontified t)) . 397) nil (#("=" 0 1 (fontified t)) . 397) nil (#(" " 0 1 (fontified t)) . 397) nil (#("d" 0 1 (fontified t)) . 397) nil (#(" " 0 1 (fontified t)) . 397) nil (#(" " 0 1 (fontified t)) . 397) nil (#(" " 0 1 (fontified t)) . 397) nil (#(" " 0 1 (fontified t)) . 397) nil (#(" " 0 1 (fontified t)) . 397) nil (#(" " 0 1 (fontified t)) . 397) nil (#("
" 0 1 (fontified t)) . 397) nil (#("5" 0 1 (fontified t syntax-table nil)) . 397) nil (#("1" 0 1 (fontified t)) . 397) nil (#(" " 0 1 (fontified t)) . 397) nil (#("<" 0 1 (fontified t)) . 397) nil (#(" " 0 1 (fontified t)) . 397) nil (#("r" 0 1 (fontified t)) . 397) nil (#("u" 0 1 (fontified t)) . 397) nil (#("o" 0 1 (fontified t)) . 397) nil (#("h" 0 1 (fontified t)) . 397) nil (#("." 0 1 (fontified t)) . 397) nil (#("t" 0 1 (fontified t)) . 397) nil (#(" " 0 1 (fontified t)) . 397) nil (#("f" 0 1 (fontified t)) . 397) nil (#("i" 0 1 (fontified t face font-lock-keyword-face)) . 397) nil (432 . 433) nil (432 . 433) nil (432 . 433) nil (#(" " 0 1 (fontified t)) . 432) nil (#(" " 0 1 (fontified t)) . 432) nil (#("
" 0 1 (fontified t)) . 432) nil (#("
" 0 1 (fontified t)) . 432) nil (#("d" 0 1 (fontified t syntax-table nil)) . 432) nil (#("n" 0 1 (fontified t)) . 432) nil (#("e" 0 1 (fontified t face font-lock-keyword-face)) . 432) nil (393 . 394) nil (#(" " 0 1 (fontified t)) . 393) nil (#("t" 0 1 (fontified t)) . -341) nil (#("o" 0 1 (fontified t)) . -342) nil (nil face font-lock-comment-face 220 . 4126) (nil fontified nil 220 . 4126) (220 . 4126) (#("
    files = Dir::glob(PATH + today.year.to_s + \"*\")
    t = Time.now
    d = today
    if t.hour < 15
      d = d - 1
    end

    fs = 0
    s = 1 # !> assigned but unused variable - s
    h = Holiday.new
    once = true

    while fs < 7 do #２５日移動平均を得るため

      while h.is_closed(d) == true do
        d = d - 1
      end
      g = true
      #p d.to_s
      files.each{  |f| 
#        md = f.match(/(.*)([0-9]{4}\\-[0-9]{2}\\-[0-9]{2})(.*)/)
#        if d.to_s == md[2].to_s
#          g = false
#        end
      }
      filename = d.strftime(\"%Y-%m-%d\") #+ \"-d_stock.csv\"
      url = \"http://k-db.com/site/download.aspx?date=\" +filename + \"&p=stockT&download=csv\" # !> even though it seems like unary operator
      if g == true
        p \"getfile:#{d.to_s}\"
        GetFile.get_file(filename+\"t\",url,once)
        csv_to_daydata(filename+\"t\")
      end
      url = \"http://k-db.com/site/download.aspx?date=\" +filename + \"&p=stockOJ&download=csv\" # !> even though it seems like unary operator
      if g == true
        p \"getfile:#{d.to_s}\"
        GetFile.get_file(filename+\"oj\",url,once)
        csv_to_daydata(filename+\"oj\")
      end
      url = \"http://k-db.com/site/download.aspx?date=\" +filename + \"&p=stockSF&download=csv\" # !> even though it seems like unary operator
      if g == true
        p \"getfile:#{d.to_s}\"
        GetFile.get_file(filename+\"sf\",url,once)
        csv_to_daydata(filename+\"sf\")
      end
      once = false
      fs = fs + 1
      d = d - 1
    end
  end
  
  def self.get_file(filename,url,once)
    begin
      timeout(10) {
        begin
          open(url) do |source|
            open(PATH+filename,\"w\") do |o|
              o.print source.read.toutf8
            end
          end
          #if once == true
            #open(\"http://ichart.finance.yahoo.com/table.csv?s=%5EN225&a=00&b=4&c=1984&d=11&e=31&f=2050&g=d&ignore=.csv\") do |source|
              #open(\"/home/hide/trade/nikkei.csv\",\"w\") do |o|
                #o.print source.read.toutf8
              #end
            #end
          #end
        rescue => exception
            puts exception.to_s + \"(#{exception.class})\"
        end
      }
    rescue TimeoutError
      # Timeout時の処理
      puts \"読み込みに時間がかかりすぎたため、処理を終了しました。\"
    end
  end  
  
  def csv_to_daydata(filename)
    i = 0
    f=open(PATH + filename)
    f.each { |ln| # !> even though it seems like unary operator
      i = i + 1
    }
    f.close
    data = Array.new(i-1).map!{ Array.new }
    md = /([0-9]{4}),(.*),(.*),(.*),(.*),(.*),(.*),(.*),(.*),([0-9]*)/
    first = 0
    i = 0
    f = open(PATH + filename)
    f.each { |line|
      if first != 0
        line1=line.toutf8
        d=line1.match(md)
        if d != nil
          if data[i-1][0] == d[1].to_i
            if data[i-1][6] <= d[9].to_f/1000
              #p \"#{d[1]} id same: #{d[9]}\" 
              i = i - 1
            end
          end
          data[i][0]=d[1].to_i
#          data[i][1]=d[3]
          data[i][1]=d[2]
          data[i][2]=d[5].to_i
          data[i][3]=d[6].to_i
          data[i][4]=d[7].to_i
          data[i][5]=d[8].to_i
          data[i][6]=(d[9].to_f/1000)
          i=i+1
        end
      end
      first = 1
    }
    f.close
    f=open(PATH + filename,\"w\")
    f.puts filename[0..3]+filename[5..6]+filename[8..9]
    data.each_index { |i| # !> shadowing outer local variable - i
      k = false
      (0..6).each { |j|
        if data[i][j] != nil
          k = true
        end
      }
      if k == true
        (0..5).each{ |j|
          f.write data[i][j].to_s + \",\"
        }
        f.puts data[i][6].to_s 
      else
 #       p data[i][1] + \";\" + i.to_s + \";\" + j.to_s
      end
    } 
    f.close
  end
end

GetFile.new.set_date
# ~> -:12:in `set_date': undefined method `Date' for #<GetFile:0x9df33ac> (NoMethod" 0 1 (fontified t face font-lock-comment-face) 1 13 (fontified t) 13 16 (fontified t face font-lock-type-face) 16 23 (fontified t) 23 27 (fontified t face font-lock-type-face) 27 48 (fontified t) 48 49 (fontified t face font-lock-string-face) 49 50 (fontified t face font-lock-string-face) 50 51 (fontified t face font-lock-string-face) 51 52 (fontified t syntax-table nil) 52 53 (fontified t) 53 61 (fontified t) 61 65 (fontified t face font-lock-type-face) 65 68 (fontified t) 68 69 (fontified t syntax-table nil) 69 82 (fontified t) 82 83 (fontified t syntax-table nil) 83 88 (fontified t) 88 90 (fontified t face font-lock-keyword-face) 90 101 (fontified t) 101 102 (fontified t syntax-table nil) 102 117 (fontified t) 117 118 (fontified t syntax-table nil) 118 123 (fontified t) 123 125 (fontified t face font-lock-keyword-face) 125 126 (fontified t syntax-table nil face font-lock-keyword-face) 126 137 (fontified t) 137 138 (fontified t syntax-table nil) 138 149 (fontified t) 149 151 (fontified t face font-lock-comment-delimiter-face) 151 185 (fontified t face font-lock-comment-face) 185 186 (fontified t syntax-table nil face font-lock-comment-face) 186 187 (fontified t face font-lock-comment-face) 187 195 (fontified t) 195 202 (fontified t face font-lock-type-face) 202 205 (fontified t) 205 206 (fontified t syntax-table nil) 206 218 (fontified t) 218 221 (fontified t face font-lock-variable-name-face) 221 222 (fontified t syntax-table nil face font-lock-variable-name-face) 222 228 (fontified t) 228 233 (fontified t face font-lock-keyword-face) 233 241 (fontified t) 241 243 (fontified t face font-lock-keyword-face) 243 244 (fontified t) 244 245 (fontified t face font-lock-comment-delimiter-face) 245 256 (fontified t face font-lock-comment-face) 256 257 (fontified t syntax-table nil face font-lock-comment-face) 257 258 (fontified t face font-lock-comment-face) 258 265 (fontified t) 265 270 (fontified t face font-lock-keyword-face) 270 289 (fontified t) 289 293 (fontified t face font-lock-variable-name-face) 293 294 (fontified t) 294 295 (fontified t face font-lock-keyword-face) 295 296 (fontified t syntax-table nil face font-lock-keyword-face) 296 313 (fontified t) 313 314 (fontified t syntax-table nil) 314 321 (fontified t) 321 323 (fontified t face font-lock-keyword-face) 323 324 (fontified t syntax-table nil face font-lock-keyword-face) 324 335 (fontified t) 335 338 (fontified t face font-lock-variable-name-face) 338 339 (fontified t syntax-table nil face font-lock-variable-name-face) 339 346 (fontified t) 346 347 (fontified t face font-lock-comment-delimiter-face) 347 354 (fontified t face font-lock-comment-face) 354 355 (fontified t syntax-table nil face font-lock-comment-face) 355 356 (fontified t face font-lock-comment-face) 356 378 (fontified t) 378 379 (fontified t syntax-table nil) 379 380 (fontified t) 380 389 (fontified t face font-lock-comment-delimiter-face) 389 402 (fontified t face font-lock-comment-face) 402 403 (fontified t syntax-table (7 . 47) face font-lock-comment-face) 403 441 (fontified t face font-lock-comment-face) 441 442 (fontified t syntax-table (7 . 47) face font-lock-comment-face) 442 443 (fontified t syntax-table nil face font-lock-comment-face) 443 444 (fontified t face font-lock-comment-face) 444 453 (fontified t face font-lock-comment-delimiter-face) 453 475 (fontified t face font-lock-comment-face) 475 476 (fontified t syntax-table nil face font-lock-comment-face) 476 477 (fontified t face font-lock-comment-face) 477 488 (fontified t face font-lock-comment-delimiter-face) 488 496 (fontified t face font-lock-comment-face) 496 497 (fontified t syntax-table nil face font-lock-comment-face) 497 498 (fontified t face font-lock-comment-face) 498 507 (fontified t face font-lock-comment-delimiter-face) 507 509 (fontified t face font-lock-comment-face) 509 510 (fontified t syntax-table nil face font-lock-comment-face) 510 511 (fontified t face font-lock-comment-face) 511 517 (fontified t) 517 518 (fontified t syntax-table nil) 518 547 (fontified t) 547 548 (fontified t face font-lock-string-face) 548 549 (fontified t face font-lock-string-face) 549 550 (fontified t face font-lock-string-face) 550 556 (fontified t face font-lock-string-face) 556 557 (fontified t face font-lock-string-face) 557 559 (fontified t) 559 560 (fontified t face font-lock-comment-delimiter-face) 560 563 (fontified t face font-lock-comment-face) 563 575 (fontified t face font-lock-comment-face) 575 576 (fontified t syntax-table nil face font-lock-comment-face) 576 577 (fontified t face font-lock-comment-face) 577 589 (fontified t) 589 590 (fontified t face font-lock-string-face) 590 595 (fontified t face font-lock-string-face) 595 596 (fontified t syntax-table (7 . 47) face font-lock-string-face) 596 597 (fontified t syntax-table (7 . 47) face font-lock-string-face) 597 630 (fontified t face font-lock-string-face) 630 631 (fontified t face font-lock-string-face) 631 644 (fontified t) 644 645 (fontified t face font-lock-string-face) 645 667 (fontified t face font-lock-string-face) 667 668 (fontified t face font-lock-string-face) 668 669 (fontified t) 669 671 (fontified t face font-lock-comment-delimiter-face) 671 713 (fontified t face font-lock-comment-face) 713 714 (fontified t syntax-table nil face font-lock-comment-face) 714 715 (fontified t face font-lock-comment-face) 715 721 (fontified t) 721 723 (fontified t face font-lock-keyword-face) 723 729 (fontified t) 729 732 (fontified t face font-lock-variable-name-face) 732 733 (fontified t syntax-table nil face font-lock-variable-name-face) 733 744 (fontified t) 744 745 (fontified t face font-lock-string-face) 745 752 (fontified t face font-lock-string-face) 752 753 (fontified t face font-lock-string-face) 753 754 (fontified t syntax-table (1) face font-lock-variable-name-face) 754 762 (fontified t face font-lock-variable-name-face) 762 763 (fontified t syntax-table nil face font-lock-string-face) 763 772 (fontified t) 772 779 (fontified t face font-lock-type-face) 779 798 (fontified t) 798 799 (fontified t face font-lock-string-face) 799 800 (fontified t face font-lock-string-face) 800 801 (fontified t face font-lock-string-face) 801 810 (fontified t) 810 811 (fontified t syntax-table nil) 811 844 (fontified t) 844 845 (fontified t face font-lock-string-face) 845 846 (fontified t face font-lock-string-face) 846 847 (fontified t face font-lock-string-face) 847 848 (fontified t syntax-table nil) 848 855 (fontified t) 855 857 (fontified t face font-lock-keyword-face) 857 858 (fontified t syntax-table nil face font-lock-keyword-face) 858 871 (fontified t) 871 872 (fontified t face font-lock-string-face) 872 877 (fontified t face font-lock-string-face) 877 878 (fontified t syntax-table (7 . 47) face font-lock-string-face) 878 879 (fontified t syntax-table (7 . 47) face font-lock-string-face) 879 912 (fontified t face font-lock-string-face) 912 913 (fontified t face font-lock-string-face) 913 926 (fontified t) 926 927 (fontified t face font-lock-string-face) 927 950 (fontified t face font-lock-string-face) 950 951 (fontified t face font-lock-string-face) 951 952 (fontified t) 952 954 (fontified t face font-lock-comment-delimiter-face) 954 996 (fontified t face font-lock-comment-face) 996 997 (fontified t syntax-table nil face font-lock-comment-face) 997 998 (fontified t face font-lock-comment-face) 998 1004 (fontified t) 1004 1006 (fontified t face font-lock-keyword-face) 1006 1012 (fontified t) 1012 1015 (fontified t face font-lock-variable-name-face) 1015 1016 (fontified t syntax-table nil face font-lock-variable-name-face) 1016 1027 (fontified t) 1027 1028 (fontified t face font-lock-string-face) 1028 1035 (fontified t face font-lock-string-face) 1035 1036 (fontified t face font-lock-string-face) 1036 1037 (fontified t syntax-table (1) face font-lock-variable-name-face) 1037 1045 (fontified t face font-lock-variable-name-face) 1045 1046 (fontified t syntax-table nil face font-lock-string-face) 1046 1055 (fontified t) 1055 1062 (fontified t face font-lock-type-face) 1062 1081 (fontified t) 1081 1082 (fontified t face font-lock-string-face) 1082 1084 (fontified t face font-lock-string-face) 1084 1085 (fontified t face font-lock-string-face) 1085 1094 (fontified t) 1094 1095 (fontified t syntax-table nil) 1095 1096 (fontified t) 1096 1128 (fontified t) 1128 1129 (fontified t face font-lock-string-face) 1129 1131 (fontified t face font-lock-string-face) 1131 1132 (fontified t face font-lock-string-face) 1132 1133 (fontified t syntax-table nil) 1133 1140 (fontified t) 1140 1142 (fontified t face font-lock-keyword-face) 1142 1143 (fontified t syntax-table nil face font-lock-keyword-face) 1143 1156 (fontified t) 1156 1157 (fontified t face font-lock-string-face) 1157 1162 (fontified t face font-lock-string-face) 1162 1163 (fontified t syntax-table (7 . 47) face font-lock-string-face) 1163 1164 (fontified t syntax-table (7 . 47) face font-lock-string-face) 1164 1197 (fontified t face font-lock-string-face) 1197 1198 (fontified t face font-lock-string-face) 1198 1211 (fontified t) 1211 1212 (fontified t face font-lock-string-face) 1212 1235 (fontified t face font-lock-string-face) 1235 1236 (fontified t face font-lock-string-face) 1236 1237 (fontified t) 1237 1239 (fontified t face font-lock-comment-delimiter-face) 1239 1281 (fontified t face font-lock-comment-face) 1281 1282 (fontified t syntax-table nil face font-lock-comment-face) 1282 1283 (fontified t face font-lock-comment-face) 1283 1289 (fontified t) 1289 1291 (fontified t face font-lock-keyword-face) 1291 1297 (fontified t) 1297 1300 (fontified t face font-lock-variable-name-face) 1300 1301 (fontified t syntax-table nil face font-lock-variable-name-face) 1301 1312 (fontified t) 1312 1313 (fontified t face font-lock-string-face) 1313 1320 (fontified t face font-lock-string-face) 1320 1321 (fontified t face font-lock-string-face) 1321 1322 (fontified t syntax-table (1) face font-lock-variable-name-face) 1322 1330 (fontified t face font-lock-variable-name-face) 1330 1331 (fontified t syntax-table nil face font-lock-string-face) 1331 1340 (fontified t) 1340 1347 (fontified t face font-lock-type-face) 1347 1366 (fontified t) 1366 1367 (fontified t face font-lock-string-face) 1367 1369 (fontified t face font-lock-string-face) 1369 1370 (fontified t face font-lock-string-face) 1370 1379 (fontified t) 1379 1380 (fontified t syntax-table nil) 1380 1413 (fontified t) 1413 1414 (fontified t face font-lock-string-face) 1414 1416 (fontified t face font-lock-string-face) 1416 1417 (fontified t face font-lock-string-face) 1417 1418 (fontified t syntax-table nil) 1418 1425 (fontified t) 1425 1427 (fontified t face font-lock-keyword-face) 1427 1428 (fontified t syntax-table nil face font-lock-keyword-face) 1428 1442 (fontified t) 1442 1446 (fontified t face font-lock-variable-name-face) 1446 1447 (fontified t syntax-table nil face font-lock-variable-name-face) 1447 1464 (fontified t) 1464 1465 (fontified t syntax-table nil) 1465 1480 (fontified t) 1480 1481 (fontified t syntax-table nil) 1481 1486 (fontified t) 1486 1488 (fontified t face font-lock-keyword-face) 1488 1489 (fontified t syntax-table nil face font-lock-keyword-face) 1489 1492 (fontified t) 1492 1494 (fontified t face font-lock-keyword-face) 1494 1495 (fontified t syntax-table nil face font-lock-keyword-face) 1495 1497 (fontified t) 1497 1498 (fontified t syntax-table nil) 1498 1499 (fontified t) 1499 1501 (fontified t) 1501 1504 (fontified t face font-lock-keyword-face) 1504 1505 (fontified t) 1505 1518 (fontified t face font-lock-function-name-face) 1518 1536 (fontified t) 1536 1537 (fontified t syntax-table nil) 1537 1542 (fontified t) 1542 1546 (fontified t face font-lock-keyword-face) 1546 1547 (fontified t syntax-table nil face font-lock-keyword-face) 1547 1566 (fontified t) 1566 1567 (fontified t syntax-table nil) 1567 1576 (fontified t) 1576 1580 (fontified t face font-lock-keyword-face) 1580 1581 (fontified t syntax-table nil face font-lock-keyword-face) 1581 1602 (fontified t) 1602 1604 (fontified t face font-lock-keyword-face) 1604 1612 (fontified t) 1612 1613 (fontified t syntax-table nil) 1613 1614 (fontified t)) . 220) (218 . 218) nil (#("\"" 0 1 (fontified t face font-lock-string-face)) . -213) nil (209 . 210) nil (#("." 0 1 (fontified t)) . -209) nil (211 . 212) nil (#("." 0 1 (fontified t)) . -211) nil (211 . 212) nil (#("/" 0 1 (fontified t)) . -211) nil (209 . 210) nil (#("/" 0 1 (fontified t)) . -209) nil (#("\"" 0 1 (fontified t face font-lock-string-face)) . -205) nil (201 . 204) nil (#("d" 0 1 (fontified t)) . -201) nil (#("a" 0 1 (fontified t)) . -202) nil (#("t" 0 1 (fontified t)) . -203) nil (#("e" 0 1 (fontified t)) . -204) nil (199 . 205) nil (#("d" 0 1 (fontified t face font-lock-type-face)) . -199) nil (199 . 200) nil (#("." 0 1 (fontified t)) . -199) nil (199 . 200) nil (#("." 0 1 (fontified t)) . -199) nil (199 . 200) nil (#("t" 0 1 (fontified t)) . -189) nil (#("o" 0 1 (fontified t)) . -190) (t 20702 . 38486) nil (219 . 4054) (#(" # !> possibly useless use of a variable in void context
    files = Dir::glob(PATH + today.year.to_s + \"*\")
    t = Time.now
    d = today
    if t.hour < 15
      d = d - 1
    end

    fs = 0
    s = 1 # !> assigned but unused variable - s
    h = Holiday.new
    once = true

    while fs < 7 do #２５日移動平均を得るため

      while h.is_closed(d) == true do
        d = d - 1
      end
      g = true
      #p d.to_s
      files.each{  |f| 
#        md = f.match(/(.*)([0-9]{4}\\-[0-9]{2}\\-[0-9]{2})(.*)/)
#        if d.to_s == md[2].to_s
#          g = false
#        end
      }
      filename = d.strftime(\"%Y-%m-%d\") #+ \"-d_stock.csv\"
      url = \"http://k-db.com/site/download.aspx?date=\" +filename + \"&p=stockT&download=csv\" # !> even though it seems like unary operator
      if g == true
        p \"getfile:#{d.to_s}\"
        GetFile.get_file(filename+\"t\",url,once)
        csv_to_daydata(filename+\"t\")
      end
      url = \"http://k-db.com/site/download.aspx?date=\" +filename + \"&p=stockOJ&download=csv\" # !> even though it seems like unary operator
      if g == true
        p \"getfile:#{d.to_s}\"
        GetFile.get_file(filename+\"oj\",url,once)
        csv_to_daydata(filename+\"oj\")
      end
      url = \"http://k-db.com/site/download.aspx?date=\" +filename + \"&p=stockSF&download=csv\" # !> even though it seems like unary operator
      if g == true
        p \"getfile:#{d.to_s}\"
        GetFile.get_file(filename+\"sf\",url,once)
        csv_to_daydata(filename+\"sf\")
      end
      once = false
      fs = fs + 1
      d = d - 1
    end
  end
  
  def self.get_file(filename,url,once)
    begin
      timeout(10) {
        begin
          open(url) do |source|
            open(PATH+filename,\"w\") do |o|
              o.print source.read.toutf8
            end
          end
          #if once == true
            #open(\"http://ichart.finance.yahoo.com/table.csv?s=%5EN225&a=00&b=4&c=1984&d=11&e=31&f=2050&g=d&ignore=.csv\") do |source|
              #open(\"/home/hide/trade/nikkei.csv\",\"w\") do |o|
                #o.print source.read.toutf8
              #end
            #end
          #end
        rescue => exception
            puts exception.to_s + \"(#{exception.class})\"
        end
      }
    rescue TimeoutError
      # Timeout時の処理
      puts \"読み込みに時間がかかりすぎたため、処理を終了しました。\"
    end
  end  
  
  def csv_to_daydata(filename)
    i = 0
    f=open(PATH + filename)
    f.each { |ln|
      i = i + 1
    }
    f.close
    data = Array.new(i-1).map!{ Array.new }
    md = /([0-9]{4}),(.*),(.*),(.*),(.*),(.*),(.*),(.*),(.*),([0-9]*)/
    first = 0
    i = 0
    f = open(PATH + filename)
    f.each { |line|
      if first != 0
        line1=line.toutf8
        d=line1.match(md)
        if d != nil
          if data[i-1][0] == d[1].to_i
            if data[i-1][6] <= d[9].to_f/1000
              #p \"#{d[1]} id same: #{d[9]}\" 
              i = i - 1
            end
          end
          data[i][0]=d[1].to_i
#          data[i][1]=d[3]
          data[i][1]=d[2]
          data[i][2]=d[5].to_i
          data[i][3]=d[6].to_i
          data[i][4]=d[7].to_i
          data[i][5]=d[8].to_i
          data[i][6]=(d[9].to_f/1000)
          i=i+1
        end
      end
      first = 1
    }
    f.close
    f=open(PATH + filename,\"w\")
    f.puts filename[0..3]+filename[5..6]+filename[8..9]
    data.each_index { |i| # !> shadowing outer local variable - i
      k = false
      (0..6).each { |j|
        if data[i][j] != nil
          k = true
        end
      }
      if k == true
        (0..5).each{ |j|
          f.write data[i][j].to_s + \",\"
        }
        f.puts data[i][6].to_s 
      else
 #       p data[i][1] + \";\" + i.to_s + \";\" + j.to_s
      end
    } 
    f.close
  end
end

GetFile.new.set_date
# ~> -:12: syntax error, unexpected tINTEGER, expecting ')'
# ~> ...3388 = (    today = Date(\"\"2007/1/1\"));$stderr.puts(\"!XMP135...
# ~> ...                               ^
# ~> -:12: syntax error, unexpected tSTRING_BEG, expecting ')'
# ~> ...= (    today = Date(\"\"2007/1/1\"));$stderr.puts(\"!XMP13567646...
# ~> ...                               ^
# ~> -:12: syntax error, unexpected '!', expecting ')'
# ~> ...e(\"\"2007/1/1\"));$stderr.puts(\"!XMP1356764696_10543_64886![1]...
# ~> ...                               ^
# ~> -:12: syntax error, unexpected tASSOC, expecting ')'
# ~> ...MP1356764696_10543_64886![1] => \" + _xmp_1356764696_10543_92...
# ~> ...                               ^
# ~> -:12: Invalid char `\\x03' in expression
# ~> -:12: syntax error, unexpected keyword_elsif, expecting ')'
# ~> ...6764696_10543_923388);    elsif [____xmp_1356764696_10543_92...
# ~> ...                               ^
# ~> -:12: syntax error, unexpected keyword_end, expecting ')'
# ~> ...696_10543_923388 + \"]\");    end;  };  nil;rescue Exception; ...
# ~> ...                               ^
# ~> -:12: syntax error, unexpected keyword_rescue, expecting ')'
# ~> ...+ \"]\");    end;  };  nil;rescue Exception;  nil;end || _xmp_...
# ~> ...                               ^
# ~> -:12: syntax error, unexpected keyword_end, expecting ')'
# ~> ... nil;rescue Exception;  nil;end || _xmp_1356764696_10543_923...
# ~> ...                               ^" 0 55 (fontified t face font-lock-comment-face) 55 56 (fontified t syntax-table nil face font-lock-comment-face) 56 57 (fontified t face font-lock-comment-face) 57 69 (fontified t) 69 72 (fontified t face font-lock-type-face) 72 79 (fontified t) 79 83 (fontified t face font-lock-type-face) 83 104 (fontified t) 104 105 (fontified t face font-lock-string-face) 105 106 (fontified t face font-lock-string-face) 106 107 (fontified t face font-lock-string-face) 107 108 (fontified t syntax-table nil) 108 109 (fontified t) 109 117 (fontified t) 117 121 (fontified t face font-lock-type-face) 121 124 (fontified t) 124 125 (fontified t syntax-table nil) 125 138 (fontified t) 138 139 (fontified t syntax-table nil) 139 144 (fontified t) 144 146 (fontified t face font-lock-keyword-face) 146 157 (fontified t) 157 158 (fontified t syntax-table nil) 158 173 (fontified t) 173 174 (fontified t syntax-table nil) 174 179 (fontified t) 179 181 (fontified t face font-lock-keyword-face) 181 182 (fontified t syntax-table nil face font-lock-keyword-face) 182 193 (fontified t) 193 194 (fontified t syntax-table nil) 194 205 (fontified t) 205 207 (fontified t face font-lock-comment-delimiter-face) 207 241 (fontified t face font-lock-comment-face) 241 242 (fontified t syntax-table nil face font-lock-comment-face) 242 243 (fontified t face font-lock-comment-face) 243 251 (fontified t) 251 258 (fontified t face font-lock-type-face) 258 261 (fontified t) 261 262 (fontified t syntax-table nil) 262 274 (fontified t) 274 277 (fontified t face font-lock-variable-name-face) 277 278 (fontified t syntax-table nil face font-lock-variable-name-face) 278 284 (fontified t) 284 289 (fontified t face font-lock-keyword-face) 289 297 (fontified t) 297 299 (fontified t face font-lock-keyword-face) 299 300 (fontified t) 300 301 (fontified t face font-lock-comment-delimiter-face) 301 312 (fontified t face font-lock-comment-face) 312 313 (fontified t syntax-table nil face font-lock-comment-face) 313 314 (fontified t face font-lock-comment-face) 314 321 (fontified t) 321 326 (fontified t face font-lock-keyword-face) 326 345 (fontified t) 345 349 (fontified t face font-lock-variable-name-face) 349 350 (fontified t) 350 351 (fontified t face font-lock-keyword-face) 351 352 (fontified t syntax-table nil face font-lock-keyword-face) 352 369 (fontified t) 369 370 (fontified t syntax-table nil) 370 377 (fontified t) 377 379 (fontified t face font-lock-keyword-face) 379 380 (fontified t syntax-table nil face font-lock-keyword-face) 380 391 (fontified t) 391 394 (fontified t face font-lock-variable-name-face) 394 395 (fontified t syntax-table nil face font-lock-variable-name-face) 395 402 (fontified t) 402 403 (fontified t face font-lock-comment-delimiter-face) 403 410 (fontified t face font-lock-comment-face) 410 411 (fontified t syntax-table nil face font-lock-comment-face) 411 412 (fontified t face font-lock-comment-face) 412 434 (fontified t) 434 435 (fontified t syntax-table nil) 435 436 (fontified t) 436 445 (fontified t face font-lock-comment-delimiter-face) 445 458 (fontified t face font-lock-comment-face) 458 459 (fontified t syntax-table (7 . 47) face font-lock-comment-face) 459 497 (fontified t face font-lock-comment-face) 497 498 (fontified t syntax-table (7 . 47) face font-lock-comment-face) 498 499 (fontified t syntax-table nil face font-lock-comment-face) 499 500 (fontified t face font-lock-comment-face) 500 509 (fontified t face font-lock-comment-delimiter-face) 509 531 (fontified t face font-lock-comment-face) 531 532 (fontified t syntax-table nil face font-lock-comment-face) 532 533 (fontified t face font-lock-comment-face) 533 544 (fontified t face font-lock-comment-delimiter-face) 544 552 (fontified t face font-lock-comment-face) 552 553 (fontified t syntax-table nil face font-lock-comment-face) 553 554 (fontified t face font-lock-comment-face) 554 563 (fontified t face font-lock-comment-delimiter-face) 563 565 (fontified t face font-lock-comment-face) 565 566 (fontified t syntax-table nil face font-lock-comment-face) 566 567 (fontified t face font-lock-comment-face) 567 573 (fontified t) 573 574 (fontified t syntax-table nil) 574 603 (fontified t) 603 604 (fontified t face font-lock-string-face) 604 605 (fontified t face font-lock-string-face) 605 606 (fontified t face font-lock-string-face) 606 612 (fontified t face font-lock-string-face) 612 613 (fontified t face font-lock-string-face) 613 615 (fontified t) 615 616 (fontified t face font-lock-comment-delimiter-face) 616 619 (fontified t face font-lock-comment-face) 619 631 (fontified t face font-lock-comment-face) 631 632 (fontified t syntax-table nil face font-lock-comment-face) 632 633 (fontified t face font-lock-comment-face) 633 645 (fontified t) 645 646 (fontified t face font-lock-string-face) 646 651 (fontified t face font-lock-string-face) 651 652 (fontified t syntax-table (7 . 47) face font-lock-string-face) 652 653 (fontified t syntax-table (7 . 47) face font-lock-string-face) 653 686 (fontified t face font-lock-string-face) 686 687 (fontified t face font-lock-string-face) 687 700 (fontified t) 700 701 (fontified t face font-lock-string-face) 701 723 (fontified t face font-lock-string-face) 723 724 (fontified t face font-lock-string-face) 724 725 (fontified t) 725 727 (fontified t face font-lock-comment-delimiter-face) 727 769 (fontified t face font-lock-comment-face) 769 770 (fontified t syntax-table nil face font-lock-comment-face) 770 771 (fontified t face font-lock-comment-face) 771 777 (fontified t) 777 779 (fontified t face font-lock-keyword-face) 779 785 (fontified t) 785 788 (fontified t face font-lock-variable-name-face) 788 789 (fontified t syntax-table nil face font-lock-variable-name-face) 789 800 (fontified t) 800 801 (fontified t face font-lock-string-face) 801 808 (fontified t face font-lock-string-face) 808 809 (fontified t face font-lock-string-face) 809 810 (fontified t syntax-table (1) face font-lock-variable-name-face) 810 818 (fontified t face font-lock-variable-name-face) 818 819 (fontified t syntax-table nil face font-lock-string-face) 819 828 (fontified t) 828 835 (fontified t face font-lock-type-face) 835 854 (fontified t) 854 855 (fontified t face font-lock-string-face) 855 856 (fontified t face font-lock-string-face) 856 857 (fontified t face font-lock-string-face) 857 866 (fontified t) 866 867 (fontified t syntax-table nil) 867 900 (fontified t) 900 901 (fontified t face font-lock-string-face) 901 902 (fontified t face font-lock-string-face) 902 903 (fontified t face font-lock-string-face) 903 904 (fontified t syntax-table nil) 904 911 (fontified t) 911 913 (fontified t face font-lock-keyword-face) 913 914 (fontified t syntax-table nil face font-lock-keyword-face) 914 927 (fontified t) 927 928 (fontified t face font-lock-string-face) 928 933 (fontified t face font-lock-string-face) 933 934 (fontified t syntax-table (7 . 47) face font-lock-string-face) 934 935 (fontified t syntax-table (7 . 47) face font-lock-string-face) 935 968 (fontified t face font-lock-string-face) 968 969 (fontified t face font-lock-string-face) 969 982 (fontified t) 982 983 (fontified t face font-lock-string-face) 983 1006 (fontified t face font-lock-string-face) 1006 1007 (fontified t face font-lock-string-face) 1007 1008 (fontified t) 1008 1010 (fontified t face font-lock-comment-delimiter-face) 1010 1052 (fontified t face font-lock-comment-face) 1052 1053 (fontified t syntax-table nil face font-lock-comment-face) 1053 1054 (fontified t face font-lock-comment-face) 1054 1060 (fontified t) 1060 1062 (fontified t face font-lock-keyword-face) 1062 1068 (fontified t) 1068 1071 (fontified t face font-lock-variable-name-face) 1071 1072 (fontified t syntax-table nil face font-lock-variable-name-face) 1072 1083 (fontified t) 1083 1084 (fontified t face font-lock-string-face) 1084 1091 (fontified t face font-lock-string-face) 1091 1092 (fontified t face font-lock-string-face) 1092 1093 (fontified t syntax-table (1) face font-lock-variable-name-face) 1093 1101 (fontified t face font-lock-variable-name-face) 1101 1102 (fontified t syntax-table nil face font-lock-string-face) 1102 1111 (fontified t) 1111 1118 (fontified t face font-lock-type-face) 1118 1137 (fontified t) 1137 1138 (fontified t face font-lock-string-face) 1138 1140 (fontified t face font-lock-string-face) 1140 1141 (fontified t face font-lock-string-face) 1141 1150 (fontified t) 1150 1151 (fontified t syntax-table nil) 1151 1152 (fontified t) 1152 1184 (fontified t) 1184 1185 (fontified t face font-lock-string-face) 1185 1187 (fontified t face font-lock-string-face) 1187 1188 (fontified t face font-lock-string-face) 1188 1189 (fontified t syntax-table nil) 1189 1196 (fontified t) 1196 1198 (fontified t face font-lock-keyword-face) 1198 1199 (fontified t syntax-table nil face font-lock-keyword-face) 1199 1212 (fontified t) 1212 1213 (fontified t face font-lock-string-face) 1213 1218 (fontified t face font-lock-string-face) 1218 1219 (fontified t syntax-table (7 . 47) face font-lock-string-face) 1219 1220 (fontified t syntax-table (7 . 47) face font-lock-string-face) 1220 1253 (fontified t face font-lock-string-face) 1253 1254 (fontified t face font-lock-string-face) 1254 1267 (fontified t) 1267 1268 (fontified t face font-lock-string-face) 1268 1291 (fontified t face font-lock-string-face) 1291 1292 (fontified t face font-lock-string-face) 1292 1293 (fontified t) 1293 1295 (fontified t face font-lock-comment-delimiter-face) 1295 1337 (fontified t face font-lock-comment-face) 1337 1338 (fontified t syntax-table nil face font-lock-comment-face) 1338 1339 (fontified t face font-lock-comment-face) 1339 1345 (fontified t) 1345 1347 (fontified t face font-lock-keyword-face) 1347 1353 (fontified t) 1353 1356 (fontified t face font-lock-variable-name-face) 1356 1357 (fontified t syntax-table nil face font-lock-variable-name-face) 1357 1368 (fontified t) 1368 1369 (fontified t face font-lock-string-face) 1369 1376 (fontified t face font-lock-string-face) 1376 1377 (fontified t face font-lock-string-face) 1377 1378 (fontified t syntax-table (1) face font-lock-variable-name-face) 1378 1386 (fontified t face font-lock-variable-name-face) 1386 1387 (fontified t syntax-table nil face font-lock-string-face) 1387 1396 (fontified t) 1396 1403 (fontified t face font-lock-type-face) 1403 1422 (fontified t) 1422 1423 (fontified t face font-lock-string-face) 1423 1425 (fontified t face font-lock-string-face) 1425 1426 (fontified t face font-lock-string-face) 1426 1435 (fontified t) 1435 1436 (fontified t syntax-table nil) 1436 1469 (fontified t) 1469 1470 (fontified t face font-lock-string-face) 1470 1472 (fontified t face font-lock-string-face) 1472 1473 (fontified t face font-lock-string-face) 1473 1474 (fontified t syntax-table nil) 1474 1481 (fontified t) 1481 1483 (fontified t face font-lock-keyword-face) 1483 1484 (fontified t syntax-table nil face font-lock-keyword-face) 1484 1498 (fontified t) 1498 1502 (fontified t face font-lock-variable-name-face) 1502 1503 (fontified t syntax-table nil face font-lock-variable-name-face) 1503 1520 (fontified t) 1520 1521 (fontified t syntax-table nil) 1521 1536 (fontified t) 1536 1537 (fontified t syntax-table nil) 1537 1542 (fontified t) 1542 1544 (fontified t face font-lock-keyword-face) 1544 1545 (fontified t syntax-table nil face font-lock-keyword-face) 1545 1548 (fontified t) 1548 1550 (fontified t face font-lock-keyword-face) 1550 1551 (fontified t syntax-table nil face font-lock-keyword-face) 1551 1553 (fontified t) 1553 1554 (fontified t syntax-table nil) 1554 1555 (fontified t) 1555 1557 (fontified t) 1557 1560 (fontified t face font-lock-keyword-face) 1560 1561 (fontified t) 1561 1574 (fontified t face font-lock-function-name-face) 1574 1592 (fontified t) 1592 1593 (fontified t syntax-table nil) 1593 1598 (fontified t) 1598 1602 (fontified t face font-lock-keyword-face) 1602 1603 (fontified t syntax-table nil face font-lock-keyword-face) 1603 1622 (fontified t) 1622 1623 (fontified t syntax-table nil) 1623 1632 (fontified t) 1632 1636 (fontified t face font-lock-keyword-face) 1636 1637 (fontified t syntax-table nil face font-lock-keyword-face) 1637 1658 (fontified t) 1658 1660 (fontified t face font-lock-keyword-face) 1660 1668 (fontified t) 1668 1669 (fontified t syntax-table nil) 1669 1670 (fontified t)) . 219) (203 . 203) nil (#("\"" 0 1 (fontified t face font-lock-string-face)) . -203) nil (nil face font-lock-string-face 219 . 5356) (nil fontified nil 219 . 5356) (219 . 5356) (#("
    files = Dir::glob(PATH + today.year.to_s + \"*\")
    t = Time.now
    d = today
    if t.hour < 15
      d = d - 1
    end

    fs = 0
    s = 1
    h = Holiday.new
    once = true

    while fs < 7 do #２５日移動平均を得るため

      while h.is_closed(d) == true do
        d = d - 1
      end
      g = true
      #p d.to_s
      files.each{  |f| 
#        md = f.match(/(.*)([0-9]{4}\\-[0-9]{2}\\-[0-9]{2})(.*)/)
#        if d.to_s == md[2].to_s
#          g = false
#        end
      }
      filename = d.strftime(\"%Y-%m-%d\") #+ \"-d_stock.csv\"
      url = \"http://k-db.com/site/download.aspx?date=\" +filename + \"&p=stockT&download=csv\"
      if g == true
        p \"getfile:#{d.to_s}\"
        GetFile.get_file(filename+\"t\",url,once)
        csv_to_daydata(filename+\"t\")
      end
      url = \"http://k-db.com/site/download.aspx?date=\" +filename + \"&p=stockOJ&download=csv\"
      if g == true
        p \"getfile:#{d.to_s}\"
        GetFile.get_file(filename+\"oj\",url,once)
        csv_to_daydata(filename+\"oj\")
      end
      url = \"http://k-db.com/site/download.aspx?date=\" +filename + \"&p=stockSF&download=csv\"
      if g == true
        p \"getfile:#{d.to_s}\"
        GetFile.get_file(filename+\"sf\",url,once)
        csv_to_daydata(filename+\"sf\")
      end
      once = false
      fs = fs + 1
      d = d - 1
    end
  end
  
  def self.get_file(filename,url,once)
    begin
      timeout(10) {
        begin
          open(url) do |source|
            open(PATH+filename,\"w\") do |o|
              o.print source.read.toutf8
            end
          end
          #if once == true
            #open(\"http://ichart.finance.yahoo.com/table.csv?s=%5EN225&a=00&b=4&c=1984&d=11&e=31&f=2050&g=d&ignore=.csv\") do |source|
              #open(\"/home/hide/trade/nikkei.csv\",\"w\") do |o|
                #o.print source.read.toutf8
              #end
            #end
          #end
        rescue => exception
            puts exception.to_s + \"(#{exception.class})\"
        end
      }
    rescue TimeoutError
      # Timeout時の処理
      puts \"読み込みに時間がかかりすぎたため、処理を終了しました。\"
    end
  end  
  
  def csv_to_daydata(filename)
    i = 0
    f=open(PATH + filename)
    f.each { |ln|
      i = i + 1
    }
    f.close
    data = Array.new(i-1).map!{ Array.new }
    md = /([0-9]{4}),(.*),(.*),(.*),(.*),(.*),(.*),(.*),(.*),([0-9]*)/
    first = 0
    i = 0
    f = open(PATH + filename)
    f.each { |line|
      if first != 0
        line1=line.toutf8
        d=line1.match(md)
        if d != nil
          if data[i-1][0] == d[1].to_i
            if data[i-1][6] <= d[9].to_f/1000
              #p \"#{d[1]} id same: #{d[9]}\" 
              i = i - 1
            end
          end
          data[i][0]=d[1].to_i
#          data[i][1]=d[3]
          data[i][1]=d[2]
          data[i][2]=d[5].to_i
          data[i][3]=d[6].to_i
          data[i][4]=d[7].to_i
          data[i][5]=d[8].to_i
          data[i][6]=(d[9].to_f/1000)
          i=i+1
        end
      end
      first = 1
    }
    f.close
    f=open(PATH + filename,\"w\")
    f.puts filename[0..3]+filename[5..6]+filename[8..9]
    data.each_index { |i|
      k = false
      (0..6).each { |j|
        if data[i][j] != nil
          k = true
        end
      }
      if k == true
        (0..5).each{ |j|
          f.write data[i][j].to_s + \",\"
        }
        f.puts data[i][6].to_s 
      else
 #       p data[i][1] + \";\" + i.to_s + \";\" + j.to_s
      end
    } 
    f.close
  end
end

GetFile.new.set_date
# ~> -:12: syntax error, unexpected tINTEGER, expecting ')'
# ~>     today = Date(\"\"2007/1/1\")
# ~>                        ^
# ~> -:12: syntax error, unexpected tSTRING_BEG, expecting keyword_end
# ~>     today = Date(\"\"2007/1/1\")
# ~>                             ^
# ~> -:38: unknown type of %string
# ~>       filename = d.strftime(\"%Y-%m-%d\") #+ \"-d_stock.csv\"
# ~>                                    ^
# ~> -:38: syntax error, unexpected $end
# ~>       filename = d.strftime(\"%Y-%m-%d\") #+ \"-d_stock.csv\"
# ~>     " 0 1 (fontified t face font-lock-string-face) 1 13 (fontified t face font-lock-string-face) 13 16 (fontified t face font-lock-string-face) 16 23 (fontified t face font-lock-string-face) 23 27 (fontified t face font-lock-string-face) 27 48 (fontified t face font-lock-string-face) 48 49 (fontified t face font-lock-string-face) 49 50 (fontified t) 50 51 (fontified t face font-lock-string-face) 51 52 (fontified t syntax-table nil face font-lock-string-face) 52 53 (fontified t face font-lock-string-face) 53 61 (fontified t face font-lock-string-face) 61 65 (fontified t face font-lock-string-face) 65 68 (fontified t face font-lock-string-face) 68 69 (fontified t syntax-table nil face font-lock-string-face) 69 82 (fontified t face font-lock-string-face) 82 83 (fontified t syntax-table nil face font-lock-string-face) 83 84 (fontified t face font-lock-string-face) 84 88 (fontified t face font-lock-string-face) 88 90 (fontified t face font-lock-string-face) 90 101 (fontified t face font-lock-string-face) 101 102 (fontified t syntax-table nil face font-lock-string-face) 102 103 (fontified t face font-lock-string-face) 103 109 (fontified t face font-lock-string-face) 109 117 (fontified t face font-lock-string-face) 117 118 (fontified t syntax-table nil face font-lock-string-face) 118 119 (fontified t face font-lock-string-face) 119 123 (fontified t face font-lock-string-face) 123 125 (fontified t face font-lock-string-face) 125 126 (fontified t syntax-table nil face font-lock-string-face) 126 127 (fontified t face font-lock-string-face) 127 137 (fontified t face font-lock-string-face) 137 138 (fontified t syntax-table nil face font-lock-string-face) 138 147 (fontified t face font-lock-string-face) 147 148 (fontified t syntax-table nil face font-lock-string-face) 148 157 (fontified t face font-lock-string-face) 157 164 (fontified t face font-lock-string-face) 164 167 (fontified t face font-lock-string-face) 167 168 (fontified t syntax-table nil face font-lock-string-face) 168 180 (fontified t face font-lock-string-face) 180 183 (fontified t face font-lock-string-face) 183 184 (fontified t syntax-table nil face font-lock-string-face) 184 190 (fontified t face font-lock-string-face) 190 195 (fontified t face font-lock-string-face) 195 203 (fontified t face font-lock-string-face) 203 205 (fontified t face font-lock-string-face) 205 206 (fontified t face font-lock-string-face) 206 207 (fontified t face font-lock-string-face) 207 218 (fontified t face font-lock-string-face) 218 219 (fontified t syntax-table nil face font-lock-string-face) 219 220 (fontified t face font-lock-string-face) 220 227 (fontified t face font-lock-string-face) 227 232 (fontified t face font-lock-string-face) 232 251 (fontified t face font-lock-string-face) 251 255 (fontified t face font-lock-string-face) 255 256 (fontified t face font-lock-string-face) 256 257 (fontified t face font-lock-string-face) 257 258 (fontified t syntax-table nil face font-lock-string-face) 258 275 (fontified t face font-lock-string-face) 275 276 (fontified t syntax-table nil face font-lock-string-face) 276 283 (fontified t face font-lock-string-face) 283 285 (fontified t face font-lock-string-face) 285 286 (fontified t syntax-table nil face font-lock-string-face) 286 297 (fontified t face font-lock-string-face) 297 300 (fontified t face font-lock-string-face) 300 301 (fontified t syntax-table nil face font-lock-string-face) 301 302 (fontified t face font-lock-string-face) 302 308 (fontified t face font-lock-string-face) 308 309 (fontified t face font-lock-string-face) 309 316 (fontified t face font-lock-string-face) 316 317 (fontified t syntax-table nil face font-lock-string-face) 317 318 (fontified t face font-lock-string-face) 318 340 (fontified t face font-lock-string-face) 340 341 (fontified t syntax-table nil face font-lock-string-face) 341 342 (fontified t face font-lock-string-face) 342 351 (fontified t face font-lock-string-face) 351 364 (fontified t face font-lock-string-face) 364 365 (fontified t syntax-table (7 . 47) face font-lock-string-face) 365 403 (fontified t face font-lock-string-face) 403 404 (fontified t syntax-table (7 . 47) face font-lock-string-face) 404 405 (fontified t syntax-table nil face font-lock-string-face) 405 406 (fontified t face font-lock-string-face) 406 415 (fontified t face font-lock-string-face) 415 437 (fontified t face font-lock-string-face) 437 438 (fontified t syntax-table nil face font-lock-string-face) 438 439 (fontified t face font-lock-string-face) 439 450 (fontified t face font-lock-string-face) 450 458 (fontified t face font-lock-string-face) 458 459 (fontified t syntax-table nil face font-lock-string-face) 459 460 (fontified t face font-lock-string-face) 460 469 (fontified t face font-lock-string-face) 469 471 (fontified t face font-lock-string-face) 471 472 (fontified t syntax-table nil face font-lock-string-face) 472 473 (fontified t face font-lock-string-face) 473 479 (fontified t face font-lock-string-face) 479 480 (fontified t syntax-table nil face font-lock-string-face) 480 509 (fontified t face font-lock-string-face) 509 510 (fontified t face font-lock-string-face) 510 511 (fontified t) 511 512 (fontified t face font-lock-type-face) 512 518 (fontified t) 518 519 (fontified t face font-lock-string-face) 519 521 (fontified t face font-lock-string-face) 521 522 (fontified t face font-lock-string-face) 522 525 (fontified t face font-lock-string-face) 525 537 (fontified t) 537 538 (fontified t syntax-table nil face font-lock-string-face) 538 539 (fontified t face font-lock-string-face) 539 551 (fontified t face font-lock-string-face) 551 552 (fontified t face font-lock-string-face) 552 557 (fontified t) 557 558 (fontified t syntax-table (7 . 47) face font-lock-string-face) 558 559 (fontified t syntax-table (7 . 47) face font-lock-string-face) 559 592 (fontified t) 592 593 (fontified t face font-lock-string-face) 593 606 (fontified t face font-lock-string-face) 606 607 (fontified t face font-lock-string-face) 607 629 (fontified t) 629 630 (fontified t syntax-table nil face font-lock-string-face) 630 631 (fontified t face font-lock-string-face) 631 637 (fontified t face font-lock-string-face) 637 639 (fontified t face font-lock-string-face) 639 645 (fontified t face font-lock-string-face) 645 648 (fontified t face font-lock-string-face) 648 649 (fontified t syntax-table nil face font-lock-string-face) 649 660 (fontified t face font-lock-string-face) 660 661 (fontified t face font-lock-string-face) 661 668 (fontified t) 668 669 (fontified t face font-lock-constant-face) 669 670 (fontified t syntax-table (1) face font-lock-variable-name-face) 670 678 (fontified t face font-lock-variable-name-face) 678 679 (fontified t syntax-table nil face font-lock-string-face) 679 688 (fontified t face font-lock-string-face) 688 695 (fontified t face font-lock-string-face) 695 714 (fontified t face font-lock-string-face) 714 715 (fontified t face font-lock-string-face) 715 716 (fontified t) 716 717 (fontified t face font-lock-string-face) 717 726 (fontified t face font-lock-string-face) 726 727 (fontified t syntax-table nil face font-lock-string-face) 727 760 (fontified t face font-lock-string-face) 760 761 (fontified t face font-lock-string-face) 761 762 (fontified t) 762 763 (fontified t face font-lock-string-face) 763 764 (fontified t syntax-table nil face font-lock-string-face) 764 771 (fontified t face font-lock-string-face) 771 773 (fontified t face font-lock-string-face) 773 774 (fontified t syntax-table nil face font-lock-string-face) 774 787 (fontified t face font-lock-string-face) 787 788 (fontified t face font-lock-string-face) 788 793 (fontified t) 793 794 (fontified t syntax-table (7 . 47) face font-lock-string-face) 794 795 (fontified t syntax-table (7 . 47) face font-lock-string-face) 795 828 (fontified t) 828 829 (fontified t face font-lock-string-face) 829 842 (fontified t face font-lock-string-face) 842 843 (fontified t face font-lock-string-face) 843 866 (fontified t) 866 867 (fontified t syntax-table nil face font-lock-string-face) 867 868 (fontified t face font-lock-string-face) 868 874 (fontified t face font-lock-string-face) 874 876 (fontified t face font-lock-string-face) 876 882 (fontified t face font-lock-string-face) 882 885 (fontified t face font-lock-string-face) 885 886 (fontified t syntax-table nil face font-lock-string-face) 886 897 (fontified t face font-lock-string-face) 897 898 (fontified t face font-lock-string-face) 898 905 (fontified t) 905 906 (fontified t face font-lock-constant-face) 906 907 (fontified t syntax-table (1) face font-lock-variable-name-face) 907 915 (fontified t face font-lock-variable-name-face) 915 916 (fontified t syntax-table nil face font-lock-string-face) 916 925 (fontified t face font-lock-string-face) 925 932 (fontified t face font-lock-string-face) 932 951 (fontified t face font-lock-string-face) 951 952 (fontified t face font-lock-string-face) 952 954 (fontified t) 954 955 (fontified t face font-lock-string-face) 955 964 (fontified t face font-lock-string-face) 964 965 (fontified t syntax-table nil face font-lock-string-face) 965 998 (fontified t face font-lock-string-face) 998 999 (fontified t face font-lock-string-face) 999 1001 (fontified t) 1001 1002 (fontified t face font-lock-string-face) 1002 1003 (fontified t syntax-table nil face font-lock-string-face) 1003 1010 (fontified t face font-lock-string-face) 1010 1012 (fontified t face font-lock-string-face) 1012 1013 (fontified t syntax-table nil face font-lock-string-face) 1013 1026 (fontified t face font-lock-string-face) 1026 1027 (fontified t face font-lock-string-face) 1027 1032 (fontified t) 1032 1033 (fontified t syntax-table (7 . 47) face font-lock-string-face) 1033 1034 (fontified t syntax-table (7 . 47) face font-lock-string-face) 1034 1067 (fontified t) 1067 1068 (fontified t face font-lock-string-face) 1068 1081 (fontified t face font-lock-string-face) 1081 1082 (fontified t face font-lock-string-face) 1082 1105 (fontified t) 1105 1106 (fontified t syntax-table nil face font-lock-string-face) 1106 1113 (fontified t face font-lock-string-face) 1113 1115 (fontified t face font-lock-string-face) 1115 1121 (fontified t face font-lock-string-face) 1121 1124 (fontified t face font-lock-string-face) 1124 1125 (fontified t syntax-table nil face font-lock-string-face) 1125 1136 (fontified t face font-lock-string-face) 1136 1137 (fontified t face font-lock-string-face) 1137 1144 (fontified t) 1144 1145 (fontified t face font-lock-constant-face) 1145 1146 (fontified t syntax-table (1) face font-lock-variable-name-face) 1146 1154 (fontified t face font-lock-variable-name-face) 1154 1155 (fontified t syntax-table nil face font-lock-string-face) 1155 1156 (fontified t face font-lock-string-face) 1164 1171 (face font-lock-type-face) 1190 1194 (face font-lock-string-face) 1203 1204 (syntax-table nil) 1237 1241 (face font-lock-string-face) 1241 1242 (syntax-table nil) 1249 1251 (face font-lock-keyword-face) 1251 1252 (syntax-table nil face font-lock-keyword-face) 1266 1270 (face font-lock-variable-name-face) 1270 1271 (syntax-table nil face font-lock-variable-name-face) 1288 1289 (syntax-table nil) 1304 1305 (syntax-table nil) 1310 1312 (face font-lock-keyword-face) 1312 1313 (syntax-table nil face font-lock-keyword-face) 1316 1318 (face font-lock-keyword-face) 1318 1319 (syntax-table nil face font-lock-keyword-face) 1321 1322 (syntax-table nil) 1325 1328 (face font-lock-keyword-face) 1329 1342 (face font-lock-function-name-face) 1360 1361 (syntax-table nil) 1366 1370 (face font-lock-keyword-face) 1370 1371 (syntax-table nil face font-lock-keyword-face)) . 219) (217 . 217) nil (216 . 217) nil (215 . 218) nil (214 . 215) nil (3669 . 4221) (214 . 214) nil (202 . 204) nil (#("\"" 0 1 (fontified t face font-lock-string-face)) . -210) nil (210 . 212) nil (202 . 210) nil (#(")" 0 1 (fontified t syntax-table nil)) . -203) nil (202 . 203) nil (201 . 203) nil (#("." 0 1 (fontified t syntax-table nil)) . -201) nil (#("t" 0 1 (fontified t syntax-table nil)) . -202) nil (#("o" 0 1 (fontified t syntax-table nil)) . -203) nil (#("d" 0 1 (fontified t syntax-table nil)) . -204) nil (#("a" 0 1 (fontified t syntax-table nil)) . -205) nil (#("y" 0 1 (fontified t syntax-table nil)) . -206) nil (#("x" 0 1 (fontified t)) . -291) nil (#("#" 0 1 (fontified t face font-lock-comment-delimiter-face)) . -292) nil (291 . 292) nil (#("x" 0 1 (fontified t)) . -311) nil (#("#" 0 1 (fontified t face font-lock-comment-delimiter-face)) . -312) nil (311 . 312) nil (311 . 312) nil (291 . 292) (t 20692 . 20920)))
